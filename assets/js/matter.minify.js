var canvas=document.querySelector("#wrapper-canvas"),dimensions={width:window.innerWidth,height:window.innerHeight};function runMatter(){var t=Matter.Engine,e=Matter.Events,n=Matter.Runner,r=Matter.Render,i=Matter.World,o=Matter.Body,a=Matter.Mouse,d=Matter.Common,s=(Matter.Composite,Matter.Composites,Matter.Bodies),l=t.create();l.world.gravity.y=0,l.world.gravity.x=0,l.world.gravity.scale=.1;var c=r.create({element:canvas,engine:l,options:{showVelocity:!1,width:dimensions.width,height:dimensions.height,wireframes:!1,background:"transparent"}}),h=n.create(),u=l.world;u.gravity.scale=0;var m=s.circle(c.options.width/2,c.options.height/2,Math.max(dimensions.width/25,dimensions.height/25)/2,{render:{fillStyle:"#000",strokeStyle:"#000",lineWidth:0},isStatic:!0,plugin:{attractors:[function(t,e){return{x:1e-6*(t.position.x-e.position.x),y:1e-6*(t.position.y-e.position.y)}}]}});i.add(u,m);for(var w=0;w<60;w+=1){let t=d.random(0,c.options.width),e=d.random(0,c.options.height),n=d.random()>.6?d.random(10,80):d.random(4,60),r=d.random(3,6);var p=s.polygon(t,e,r,n,{mass:n/20,friction:0,frictionAir:.02,angle:Math.round(360*Math.random()),render:{fillStyle:"#222222",strokeStyle:"#000000",lineWidth:2}});i.add(u,p);let o=d.random(0,1);var y=s.circle(t,e,d.random(2,8),{mass:.1,friction:0,frictionAir:.01,render:{fillStyle:o>.3?"#27292d":"#444444",strokeStyle:"#000000",lineWidth:2}});i.add(u,y);y=s.circle(t,e,d.random(2,20),{mass:6,friction:0,frictionAir:0,render:{fillStyle:o>.3?"#334443":"#222222",strokeStyle:"#111111",lineWidth:4}});i.add(u,y);y=s.circle(t,e,d.random(2,30),{mass:.2,friction:.6,frictionAir:.8,render:{fillStyle:"#191919",strokeStyle:"#111111",lineWidth:3}});i.add(u,y)}var f=a.create(c.canvas);e.on(l,"afterUpdate",(function(){f.position.x&&o.translate(m,{x:.12*(f.position.x-m.position.x),y:.12*(f.position.y-m.position.y)})}));let M={engine:l,runner:h,render:c,canvas:c.canvas,stop:function(){Matter.Render.stop(c),Matter.Runner.stop(h)},play:function(){Matter.Runner.run(h,l),Matter.Render.run(c)}};return Matter.Runner.run(h,l),Matter.Render.run(c),M}function debounce(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),a&&t.apply(i,o)}}function setWindowSize(){let t={};return t.width=$(window).width(),t.height=$(window).height(),m.render.canvas.width=$(window).width(),m.render.canvas.height=$(window).height(),t}Matter.use("matter-attractors"),Matter.use("matter-wrap");let m=runMatter();setWindowSize(),$(window).resize(debounce(setWindowSize,250));